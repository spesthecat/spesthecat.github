<template>
  <div class='person-container'>
    <!-- <img
    class="person"
    src="../assets/person.svg"
    loading="lazy"/> -->
    <!-- <div class="person"> -->
    <!-- </div> -->

    <svg class='person' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 775.77 884.46">
      <g id="Layer_1" data-name="Layer 1">
        <path class='head' d="M1369.55,200c13.34,0,29.11.58,47.4,1.25,48,1.77,72,2.65,89.29,15.56s27.7,33.16,32.34,62.24c4.13,25.93,3,55.46,2,81.53-1.88,49.43-3.81,100.54-41,131.1-24.07,19.75-53.86,23.35-69.87,25.28a226.24,226.24,0,0,1-27.74,2c-22.9,0-42.39-4.87-58-14.48-37.74-23.32-45.15-70.32-53.73-124.73-4.81-30.53-10.27-65.14-9.3-95.37,1.08-33.88,10.06-57.06,27.45-70.89,12.36-9.81,28.92-13.46,61.13-13.46h0m0-4c-30.38,0-49.29,2.95-63.61,14.33-41.26,32.78-29.46,107.6-19.62,170,8.72,55.34,16.27,103.23,55.58,127.51,19.62,12.12,41.84,15.08,60,15.08a228.27,228.27,0,0,0,28.22-2c16.8-2,47-5.66,71.93-26.16,38.63-31.7,40.6-83.84,42.5-134,2-53.52,4.43-116.93-36-147.13-18.26-13.65-42.69-14.55-91.54-16.34-18.49-.68-34.14-1.26-47.55-1.26Z" transform="translate(-827.59 -196)"/>
        <path class="cls-2" d="M1371.32,517.66c-1.9,7.15-38.91,138.74-140.58,166.74-49.32,13.58-91.54,0-91.55,0-33.89-10.9-55.41-31.53-65.38-42.5" transform="translate(-827.59 -196)"/>
        <g id="g2198">
          <path id="path14684" class="cls-3" d="M832.45,626.39c55.45,43.93,103.81,80,159.41,124.07,50.88-42.33,72.42-56.89,115.51-83.65,24.82,2,41.57-12.89,46.28-22.48,35.68-12,75.3-25.41,112.71-36-4.57-6.19-4-8.94-8.61-15.1-57.93-23.82-118.56-49.62-179.33-74.62C1002.39,550.43,925.64,587.09,832.45,626.39Z" transform="translate(-827.59 -196)"/>
          <path id="path14685" class="cls-4" d="M846.62,626.25,992.17,736.91c38.52-34.55,77.8-79.75,124.17-78.17-8.69-12.77-6-21.15-2.37-30.83-73.38-.07-90.65,43.85-134.88,72.68q5.38,15.58,10.84,31.43c-3-10.24-7.32-20.15-10.29-30.24-41-30.6-90.62-69.26-131.61-99.85C840.94,606.55,844.75,617.78,846.62,626.25Z" transform="translate(-827.59 -196)"/>
          <path id="path14686" class="cls-4" d="M1114.14,641.25c1.11-35.58,14.26-40,45.64-49.69,23.78-7.32,41.84-9.09,66.24-13.92,1.89,7.45,10.84,16.36,19.52,25.49-22.88,4.8-42.65,6.37-67.86,14.34-19.29,1.48-29.87,15.74-36,30.13C1130.93,624.75,1124.94,641,1114.14,641.25Z" transform="translate(-827.59 -196)"/>
          <path id="path14687" class="cls-5" d="M983.75,562.87l125.75,64.62c-74.29,3.18-93.93,51.38-130.92,73.52l-131-99.33c27.77-17.87,39.72-42.18,84.28-50.66C948.6,547.84,966.57,556.16,983.75,562.87Z" transform="translate(-827.59 -196)"/>
          <path id="path950" class="cls-5" d="M1114.21,628.15c3.44-36.12,47-37.48,110.55-52.13l-144.29-55.38c-45.89,14.37-90.7-.85-102.32,38.77Z" transform="translate(-827.59 -196)"/>
        </g>
        <path class="cls-2" d="M1502.1,498c25.25,27.77,60.13,73.4,81.74,137.32,8,23.79,21.59,71.87,16.34,189.62a1363.63,1363.63,0,0,1-36,255" transform="translate(-827.59 -196)"/>
        <circle id="eye" class="cls-6" cx="507.77" cy="148.38" r="9.81"/>
      </g>
    </svg>

    <svg class='umbrella' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1924 1084">
      <g>
       <path class="cls-1" d="M967.86,1080c-1.65-53.67-3.6-119.22-4.5-145.72-1.5-47.55-3.15-101.56-6-193.1-.75-26.15-2-59.95-2.4-75.24l-.9-27.51h15.45c58.5,0,133,20.21,196.81,53.33l11.7,5.94,29.55-13.25c48-21.39,73.8-30.74,105.3-37.87,14.7-3.23,21.9-3.9,49.5-3.9,32.85,0,41,1,64.35,8,21.45,6.28,54.15,22.59,73.2,36.34l7.95,5.61,9.3-8c53.56-45.85,151.51-60.63,299-45.17,24,2.38,92.26,11.72,100.21,13.59s3.9-3.4-21.45-27.52c-160.51-153.19-289.06-250.84-406.52-308.59-134.25-65.89-318-120.07-520.51-153.36-15.3-2.55-27.9-4.75-28.05-4.75-.15-.17-1.35-32.78-2.7-72.18-2.55-79.15-2.7-80-12-84.41-5.7-2.72-9-2.89-13.5-.85-4.2,2-8.1,7.3-9.6,13.08-.6,2.71-.3,31.59.75,64.36s2,63.69,2,68.79l.15,9.51-31.35,3.73C708.05,181.23,566.9,222,442.1,285.34c-25.06,12.74-96.16,53.33-138,78.81-136.5,83.05-228.3,159.3-291.46,242C2.13,619.75-2.22,628.24,1.08,628.24c.45,0,9.15-2.72,19.2-6.11,10-3.23,30-8.67,44.4-11.89,97.66-22.25,174.46-9.51,239.26,39.57l14.7,11.38,19.8-4.76c87.15-20.72,142.81-27.85,201.91-26,67.8,2.21,123.75,16.3,180.6,45.34l16.95,8.66,14.55-5.94c41.7-16.81,90.61-30.06,131.41-35.66,33.75-4.59,36-4.76,36-2,0,1.19.6,21.4,1.5,44.49.75,23.27,2.1,65.56,3,94.09s2.25,72.86,3,98.51,2.22,66.67,6.27,200.67Z" transform="translate(2 2)"/>
      </g>
    </svg>

  </div>
</template>

<script>

export default {
  name: 'Person',
  data() {
    return {
      umbrella: undefined,
    }
  },
  computed: {
    dims() {
      return {
        width: Math.max(document.documentElement.clientWidth, window.innerWidth || 0), 
        height: Math.max(document.documentElement.clientHeight, window.innerHeight || 0),
      } 
    },
  },
  methods: {
    onMouseMove(e) {
      // this.umbrella.style.transform = `rotateX(${this.mousePos.x * 100 / this.dims.width}deg) rotateY(${this.mousePos.y * 100 / this.dims.height}deg)`
      // this.umbrella.style.transform = `rotate(${(this.mousePos.x - this.mousePos.y) * 10 / (this.dims.width + this.dims.height)}deg`;
      // let rotate = this.mousePos.x - (this.dims.width / 2) + this.mousePos.y - (this.dims.height / 2);
      let rotate = e.pageX - e.pageY;
      this.umbrella.style.transform = `rotate(${rotate * 0.005 - 20}deg)`;
      // this.umbrella.style.transform = "rotate(-50deg)";
    }
  },  
  mounted() {
    setTimeout(() => {
      this.umbrella = document.getElementsByClassName('umbrella')[0];
    });

    document.getElementById('main-view').addEventListener('mousemove', e => this.onMouseMove(e));
  },
  beforeDestroy() {
    document.getElementById('main-view').removeEventListener('mousemove', e => this.onMouseMove(e));
  }
}

</script>

<style lang='scss' scoped>

.cls-1, .cls-2, .cls-6 {
  stroke-miterlimit: 10;
}

.cls-2, .cls-3, .cls-4, .cls-5 {
  fill: none;
}

.person, .umbrella {
  stroke-width: 4px;
  
  stroke: var(--white);
  fill: var(--white);
}

.person {
  z-index: 3;
  position: absolute;
  right: 0;
  bottom: 0;
  height: 100%;
  width: 30%;
  min-width: 300px;
  transition: all 1s ease;
}

.umbrella {
  z-index: 1;
  position: absolute;
  right: 0px;
  bottom: 70%;
  height: 100%;
  width: 30%;
  min-width: 300px;
  transition: height 1s ease;
  transform-origin: bottom center;
  fill: none;
  transform: rotate(-20deg);
}

@media screen and (max-width: 920px) {
  .person, .umbrella {
    height: 60%;
  }

  .umbrella {
    bottom: 50%;
    right: 0;
  }
}

</style>